(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"3ezP":function(e,t,n){"use strict";n.r(t),n.d(t,"PatientListModule",(function(){return f}));var r=n("ofXK"),o=n("tyNb"),s=n("fXoL"),i=n("uHLS"),a=n("ZE1I");function c(e,t){if(1&e&&(s.Qb(0,"div",2),s.Mb(1,"app-patient-item",3),s.Pb()),2&e){const e=t.$implicit;s.Ab(1),s.gc("routerLink","/app/patient/",e.encounterId,""),s.fc("patient",e)}}const l=[{path:"",pathMatch:"full",redirectTo:"all"},{path:":filter",component:(()=>{class e{constructor(e,t){this.service=e,this.route=t}ngOnInit(){this.route.paramMap.subscribe(e=>{e.get("filter"),this.patients$=this.service.getPatients()})}}return e.\u0275fac=function(t){return new(t||e)(s.Lb(i.a),s.Lb(o.a))},e.\u0275cmp=s.Fb({type:e,selectors:[["app-patient-list"]],decls:3,vars:3,consts:[[1,"patient-list"],["style","width: 75%; margin-top: 10px;","class","centered-horizontally",4,"ngFor","ngForOf"],[1,"centered-horizontally",2,"width","75%","margin-top","10px"],[3,"patient","routerLink"]],template:function(e,t){1&e&&(s.Qb(0,"div",0),s.sc(1,c,2,2,"div",1),s.bc(2,"async"),s.Pb()),2&e&&(s.Ab(1),s.fc("ngForOf",s.cc(2,1,t.patients$)))},directives:[r.j,a.a,o.d],pipes:[r.b],styles:["mat-sidenav-container[_ngcontent-%COMP%]{flex-grow:1}.patient-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:baseline;width:100%}.patient-list[_ngcontent-%COMP%]   app-patient-item[_ngcontent-%COMP%]{padding-top:10px;width:100%}"]}),e})()}];let d=(()=>{class e{}return e.\u0275mod=s.Jb({type:e}),e.\u0275inj=s.Ib({factory:function(t){return new(t||e)},imports:[[o.f.forChild(l)],o.f]}),e})();var u=n("Wp6s"),p=n("bTqV"),m=n("NFeN"),b=n("FKr1");let f=(()=>{class e{}return e.\u0275mod=s.Jb({type:e}),e.\u0275inj=s.Ib({factory:function(t){return new(t||e)},providers:[i.a],imports:[[r.c,d,u.g,p.b,m.b,b.p]]}),e})()},ZE1I:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n("fXoL"),o=n("ofXK"),s=n("Wp6s"),i=n("FKr1");function a(e,t){if(1&e&&(r.Qb(0,"mat-card",3),r.Qb(1,"div"),r.Qb(2,"mat-card-header"),r.Mb(3,"div",4),r.Qb(4,"mat-card-title"),r.uc(5),r.Pb(),r.Qb(6,"mat-card-subtitle"),r.uc(7),r.Pb(),r.Pb(),r.Qb(8,"mat-card-content"),r.Mb(9,"div"),r.Pb(),r.Pb(),r.Pb()),2&e){const e=r.ac();r.Ab(1),r.pc("margin-bottom","-10px"),r.Ab(2),r.pc("background-image","url("+e.patient.url+")"),r.Ab(2),r.yc("",e.patient.firstName," ",e.patient.lastName," - ",e.patient.encounterId," "),r.Ab(2),r.yc("Assigned: ",e.patient.room," ",e.patient.bed," ",e.patient.nursingStationId,"")}}function c(e,t){if(1&e&&(r.Qb(0,"mat-card"),r.Qb(1,"div"),r.Qb(2,"mat-card-header"),r.Mb(3,"div",4),r.Qb(4,"mat-card-title"),r.uc(5),r.Pb(),r.Qb(6,"mat-card-subtitle"),r.uc(7),r.Pb(),r.Pb(),r.Qb(8,"mat-card-content"),r.Mb(9,"div"),r.Pb(),r.Pb(),r.Pb()),2&e){const e=r.ac();r.Ab(1),r.pc("margin-bottom","-10px"),r.Ab(2),r.pc("background-image","url("+e.patient.url+")"),r.Ab(2),r.yc("",e.patient.firstName," ",e.patient.lastName," - ",e.patient.encounterId,""),r.Ab(2),r.xc("Room: ",e.patient.room," Bed: ",e.patient.bed," ")}}let l=(()=>{class e{constructor(){this.useRipple=!0}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.Fb({type:e,selectors:[["app-patient-item"]],inputs:{patient:"patient",useRipple:"useRipple"},decls:4,vars:2,consts:[[1,"centered-horizontally"],["ripple",""],[4,"ngIf","ngIfElse"],["mat-ripple",""],["mat-card-avatar",""]],template:function(e,t){if(1&e&&(r.Qb(0,"div",0),r.sc(1,a,10,10,"ng-template",null,1,r.tc),r.sc(3,c,10,9,"mat-card",2),r.Pb()),2&e){const e=r.jc(2);r.Ab(3),r.fc("ngIf",!t.useRipple)("ngIfElse",e)}},directives:[o.k,s.a,i.o,s.e,s.c,s.i,s.h,s.d],styles:["[mat-card-avatar][_ngcontent-%COMP%]{background-size:cover}mat-card[_ngcontent-%COMP%]   .last-child[_ngcontent-%COMP%]{margin-bottom:0}"]}),e})()},uHLS:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n("XNiG"),o=[{lastName:"Brown",firstName:"Rick",encounterId:5261153,nursingStationId:"EMR",room:"7",bed:"A",url:"https://www.medhost.com/wp-content/uploads/2019/02/rick-brown-exec-circle.png"},{lastName:"Anderson",firstName:"Bill",encounterId:4005507,nursingStationId:"PEDS",room:"3",bed:"A",url:"https://www.medhost.com/wp-content/uploads/2018/04/anderson-circle-2.jpg"},{lastName:"Misch",firstName:"Ken",encounterId:4005508,nursingStationId:"SURG",room:"5",bed:"A",url:"https://www.medhost.com/wp-content/uploads/2019/07/Ken-Misch-photo-president-cfo-web.png"},{lastName:"Redmon",firstName:"Todd",encounterId:4005509,nursingStationId:"SURG",room:"5",bed:"B",url:"https://www.medhost.com/wp-content/uploads/2018/04/redmon-circle.jpg"},{lastName:"Holman",firstName:"Stacey",encounterId:4005510,nursingStationId:"SURG",room:"9",bed:"A",url:"https://www.medhost.com/wp-content/uploads/2019/09/Stacey-Holman-headshot-circle.png"}],s=[{encounterId:5261153,orderId:100,orderName:"Blood Urea Nitrogen",orderPriority:"Routine",orderDate:"11/5/2020",orderTime:"15:08",specialInstructions:"Serum gel tubes should be centrifuged within 2 hours of collection",orderingPhysician:2115},{encounterId:5261153,orderId:200,orderName:"Hematocrit",orderPriority:"STAT",orderDate:"11/5/2020",orderTime:"15:00",specialInstructions:"Do NOT centrifuge",orderingPhysician:2115},{encounterId:4005507,orderId:100,orderName:"CBC/No DIF",orderPriority:"Routine",orderDate:"11/6/2020",orderTime:"13:00",specialInstructions:"",orderingPhysician:1211},{encounterId:4005508,orderId:400,orderName:"Urinalysis",orderPriority:"Routine",orderDate:"11/6/2020",orderTime:"14:15",specialInstructions:"",orderingPhysician:1211},{encounterId:4005509,orderId:100,orderName:"Urinalysis",orderPriority:"Routine",orderDate:"11/6/2020",orderTime:"14:15",specialInstructions:"",orderingPhysician:1211},{encounterId:4005510,orderId:100,orderName:"Urinalysis",orderPriority:"Routine",orderDate:"11/6/2020",orderTime:"16:10",specialInstructions:"",orderingPhysician:2}],i=[{encounterId:5261153,orderId:100,specimenType:"Serum",specimenTypeModifier:"Fasting",date:"",time:"",specimenSite:"Arm",specimenSiteModifier:"R",specimenContainer:"Red Submission Container/Tube",method:"VENI",volume:.5,volumeUnits:"ml",specimenRole:"P"},{encounterId:5261153,orderId:200,specimenType:"Whole Blood",specimenTypeModifier:"",date:"",time:"",specimenSite:"Arm",specimenSiteModifier:"R",specimenContainer:"Lavender Top (K2 EDTA) tube",method:"VENI",volume:3,volumeUnits:"ml",specimenRole:"P"},{encounterId:4005507,orderId:100,specimenType:"Whole Blood",specimenTypeModifier:"",date:"",time:"",specimenSite:"Arm",specimenSiteModifier:"R",specimenContainer:"STCUP",method:"",volume:30,volumeUnits:"ml",specimenRole:"P"},{encounterId:4005508,orderId:400,specimenType:"Urn",specimenTypeModifier:"Fasting",date:"",time:"",specimenSite:"Cath",specimenSiteModifier:"",specimenContainer:"STCUP",method:"",volume:30,volumeUnits:"ml",specimenRole:"P"},{encounterId:4005509,orderId:100,specimenType:"Serum",specimenTypeModifier:"Fasting",date:"",time:"",specimenSite:"Arm",specimenSiteModifier:"R",specimenContainer:"Blue Submission Container/Tube",method:"VENI",volume:.55,volumeUnits:"ml",specimenRole:"P"},{encounterId:4005510,orderId:100,specimenType:"Whole Blood",specimenTypeModifier:"",date:"",time:"",specimenSite:"Arm",specimenSiteModifier:"R",specimenContainer:"Magenta Top (K2 EDTA) tube",method:"VENI",volume:10,volumeUnits:"ml",specimenRole:"P"}],a=[{username:"nurse",password:1234,userid:2115,lastName:"doe",firstName:"jane",url:""},{username:"assistant",password:1234,userid:1211,lastName:"doh",firstName:"john",url:""}],c=[{userId:2115,nursingStationId:"PEDS"},{userId:2115,nursingStationId:"EMR"},{userId:2115,nursingStationId:"SURG"},{userId:2,nursingStationId:"SURG"}],l=n("lJxs"),d=n("fXoL");let u=(()=>{class e{constructor(){this.dbName="labscan",this.request=window.indexedDB.open(this.dbName,1),this.request.onerror=()=>{console.log("did not find the database")},this.request.onsuccess=()=>{},this.request.onupgradeneeded=()=>{const e=this.request.result;e.createObjectStore(this.dbName,{keyPath:"id",autoIncrement:!0}).transaction.oncomplete=()=>{const t=e.transaction(this.dbName,"readwrite").objectStore(this.dbName);this.setupTable("patient",o,t),this.setupTable("labOrder",s,t),this.setupTable("labCollection",i,t),this.setupTable("user",a,t),this.setupTable("nursingStation",c,t)}}}setupTable(e,t,n){t.forEach(t=>{t.table=e,n.add(t)})}getPatients(){const e=new r.a,t=window.indexedDB.open("labscan");let n;return t.onsuccess=()=>{const r=t.result.transaction(["labscan"],"readwrite").objectStore("labscan").getAll();r.onsuccess=()=>{n=r.result.filter(e=>"patient"===e.table),e.next(n),e.complete()}},e.asObservable()}getPatient(e){return this.getPatients().pipe(Object(l.a)(t=>t.find(t=>t.encounterId===e)))}getPatientOrdersByEncounterId(e){const t=new r.a,n=window.indexedDB.open("labscan");let o,s;return n.onsuccess=()=>{const r=n.result.transaction(["labscan"],"readwrite").objectStore("labscan").getAll();r.onsuccess=()=>{const n=r.result;o=n.filter(e=>"labOrder"===e.table).filter(t=>t.encounterId===e),s=n.filter(e=>"labCollection"===e.table).filter(t=>t.encounterId===e&&!t.date);const i=[];for(let e=0;e<o.length;e++)for(let t=0;t<s.length;t++)o[e].orderId===s[t].orderId&&i.push(o[e]);t.next(i),t.complete()}},t.asObservable()}getPatientsByWorkstations(e){const t=new r.a,n=window.indexedDB.open("labscan");return n.onsuccess=()=>{const r=n.result.transaction(["labscan"],"readwrite").objectStore("labscan").getAll();r.onsuccess=()=>{const n=r.result.filter(e=>"patient"===e.table).filter(({nursingStationId:t})=>e.includes(t));t.next(n),t.complete()}},t.asObservable()}getNursingStationsByUserId(e){const t=new r.a,n=window.indexedDB.open("labscan");return n.onsuccess=()=>{const r=n.result.transaction(["labscan"],"readwrite").objectStore("labscan").getAll();r.onsuccess=()=>{const n=r.result,o=n.filter(e=>"user"===e.table).filter(t=>t.userid===e)[0],s=n.filter(e=>"nursingStation"===e.table).filter(e=>e.userId===o.userid);t.next(s),t.complete()}},t.asObservable()}getLabCollectionsByOrderId(e){const t=new r.a,n=window.indexedDB.open("labscan");let o;return n.onsuccess=()=>{const r=n.result.transaction(["labscan"],"readwrite").objectStore("labscan").getAll();r.onsuccess=()=>{o=r.result.filter(e=>"labCollection"===e.table).filter(t=>t.orderId===e),t.next(o),t.complete()}},t.asObservable()}getLabCollectionsByEncounterId(e){const t=new r.a,n=window.indexedDB.open("labscan");let o;return n.onsuccess=()=>{const r=n.result.transaction(["labscan"],"readwrite").objectStore("labscan").getAll();r.onsuccess=()=>{o=r.result.filter(e=>"labCollection"===e.table).filter(t=>t.encounterId===e),t.next(o),t.complete()}},t.asObservable()}getUsers(){const e=new r.a,t=window.indexedDB.open("labscan");let n;return t.onsuccess=()=>{const r=t.result.transaction(["labscan"],"readwrite").objectStore("labscan").getAll();r.onsuccess=()=>{n=r.result.filter(e=>"user"===e.table),e.next(n),e.complete()}},e.asObservable()}getLabOrdersByOrderId(e){const t=new r.a,n=window.indexedDB.open("labscan");let o;return n.onsuccess=()=>{const r=n.result.transaction(["labscan"],"readwrite").objectStore("labscan").getAll();r.onsuccess=()=>{o=r.result.filter(e=>"labOrder"===e.table).filter(t=>t.orderId===e),t.next(o),t.complete()}},t.asObservable()}getLabOrdersByEncounterId(e){const t=new r.a,n=window.indexedDB.open("labscan");let o;return n.onsuccess=()=>{const r=n.result.transaction(["labscan"],"readwrite").objectStore("labscan").getAll();r.onsuccess=()=>{o=r.result.filter(e=>"labOrder"===e.table).filter(t=>t.encounterId===e),t.next(o),t.complete()}},t.asObservable()}updateCollectionTimeByBarcode(e,t,n){this.formz=e;const o=new r.a,s=window.indexedDB.open("labscan");let i;return s.onsuccess=()=>{const e=s.result.transaction(["labscan"],"readwrite").objectStore("labscan"),r=e.getAll();r.onsuccess=()=>{i=r.result.filter(e=>"labCollection"===e.table);const s=t.encounterId,a=n[0].orderId,c=i.filter(e=>e.encounterId===s&&e.orderId===a);c[0].date="88/88/8888",c[0].time="999999";const l=e.put(c[0]);l.onerror=()=>{o.next(!1),o.complete(),console.log("failed")},l.onsuccess=()=>{o.next(!0),o.complete(),console.log("passed")}}},o.asObservable()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=d.Hb({token:e,factory:e.\u0275fac}),e})()}}]);